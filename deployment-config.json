{
  "name": "EcoMeter",
  "services": {
    "ml-service": {
      "platform": "Render",
      "type": "Web Service",
      "runtime": "Python 3.11",
      "buildCommand": "cd ml-service && pip install -r requirements.txt",
      "startCommand": "cd ml-service && uvicorn app:app --host 0.0.0.0 --port $PORT",
      "environmentVariables": {
        "PYTHONUNBUFFERED": "1"
      },
      "port": "$PORT",
      "healthCheck": "/health"
    },
    "backend": {
      "platform": "Render", 
      "type": "Web Service",
      "runtime": "Node.js",
      "buildCommand": "cd backend && npm install",
      "startCommand": "cd backend && npm start",
      "environmentVariables": {
        "NODE_ENV": "production",
        "PORT": "10000",
        "MONGO_URI": "mongodb+srv://username:password@cluster.mongodb.net/ecometer?retryWrites=true&w=majority",
        "ML_SERVICE_URL": "https://ecometer-ml-service.onrender.com",
        "FRONTEND_URL": "https://ecometer-frontend.vercel.app",
        "CORS_ORIGIN": "https://ecometer-frontend.vercel.app"
      },
      "port": "10000",
      "healthCheck": "/health"
    },
    "frontend": {
      "platform": "Vercel",
      "framework": "Vite",
      "rootDirectory": "frontend",
      "buildCommand": "npm run build",
      "outputDirectory": "dist",
      "installCommand": "npm install", 
      "environmentVariables": {
        "VITE_BACKEND_URL": "https://ecometer-backend.onrender.com"
      }
    }
  },
  "database": {
    "platform": "MongoDB Atlas",
    "tier": "Free (M0)",
    "setup": [
      "Create account at mongodb.com/atlas",
      "Create new cluster",
      "Create database user", 
      "Add network access (0.0.0.0/0 for development)",
      "Get connection string",
      "Replace username:password with actual credentials"
    ]
  }
}